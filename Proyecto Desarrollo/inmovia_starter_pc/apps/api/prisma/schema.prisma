generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model Inmobiliaria {
  id           String      @id @default(uuid())
  nombre       String
  createdAt    DateTime    @default(now())
  usuarios     Usuario[]
  propiedades  Propiedad[]
}
model Usuario {
  id             String       @id @default(uuid())
  email          String       @unique
  nombre         String
  rol            Rol
  inmobiliaria   Inmobiliaria @relation(fields: [inmobiliariaId], references: [id])
  inmobiliariaId String
  createdAt      DateTime     @default(now())
  documentos     Documento[]
}
model Propiedad {
  id             String       @id @default(uuid())
  direccion      String
  inmobiliaria   Inmobiliaria @relation(fields: [inmobiliariaId], references: [id])
  inmobiliariaId String
  documentos     Documento[]
  createdAt      DateTime     @default(now())
}
model Documento {
  id            String   @id @default(uuid())
  tipo          String
  clienteNombre String
  propiedad     Propiedad @relation(fields: [propiedadId], references: [id])
  propiedadId   String
  agente        Usuario   @relation(fields: [agenteId], references: [id])
  agenteId      String
  monto         Float
  createdAt     DateTime  @default(now())
}
enum Rol {
  OWNER
  BROKER
  MARTILLERO
  ADMINISTRATIVO
  AGENTE
}