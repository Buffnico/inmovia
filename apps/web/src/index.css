/* ===========================
   Inmovia UI – Landing + App
   Ondas/curvas azules del mockup
   =========================== */

/* ---- Reset & base ---- */
* { box-sizing: border-box }
html,body,#root { height:100% }
html,body {
  margin:0; padding:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol";
  color: #EAF2FF;
  background: #050B1A;
}

/* ---- Tokens ---- */
:root{
  --bg-0:#050B1A;
  --bg-1:#08142A;
  --ink-0:#F4F8FF;
  --ink-1:#D8E6FF;
  --muted:#A9BCD9;

  --blue-900:#06204C;
  --blue-800:#0A2C66;
  --blue-700:#0C3A86;
  --brand:#0A49FF;   /* azul eléctrico principal */
  --brand-2:#2AA8FF; /* azul luz */
  --glass: rgba(10,24,50,.55);
  --stroke: rgba(14,37,96,.55);

  --radius-xl: 20px;
  --shadow-hero: 0 30px 80px rgba(10,73,255,.28);
}

/* =======================================================
   LANDING (fondo con ondas tal cual imagen de referencia)
   USO: <div class="landing"><div class="landing__inner">…</div></div>
   ======================================================= */
.landing{
  position:relative;
  min-height:100vh;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--ink-0);
  /* base oscuro con viñeteado */
  background:
    radial-gradient(1400px 800px at 15% 105%, rgba(17,80,200,.30) 0 50%, transparent 60%),
    radial-gradient(1400px 900px at 105% -10%, rgba(29,142,255,.28) 0 55%, transparent 65%),
    radial-gradient(1200px 1200px at 50% 10%, rgba(10,20,40,.35), transparent 60%),
    linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%);
}

/* Capa 1: halo profundo */
.landing::before{
  content:"";
  position:absolute; inset:-20% -10% -10% -10%;
  pointer-events:none;
  background:
    radial-gradient(1600px 900px at 0% 100%, rgba(10,73,255,.30) 0 35%, transparent 60%),
    radial-gradient(1200px 700px at 100% 0%, rgba(42,168,255,.22) 0 40%, transparent 65%);
  filter: blur(4px);
  z-index:0;
}

/* Capa 2: ONDA PRINCIPAL (banda brillante inferior izquierda → derecha) */
.landing::after{
  content:"";
  position:absolute;
  left:-10%; right:-10%;
  bottom:-6%;
  height:52vh;
  pointer-events:none;
  z-index:1;

  /* Tres bandas superpuestas para simular las líneas de luz */
  background:
    /* banda superior (más fina y brillante) */
    radial-gradient(120% 120% at 15% 120%,
      transparent 0 58%,
      rgba(42,168,255,.10) 59%,
      rgba(42,168,255,.18) 63%,
      rgba(42,168,255,.00) 67%),
    /* banda media (azul eléctrico) */
    radial-gradient(120% 120% at 12% 118%,
      transparent 0 54%,
      rgba(10,73,255,.18) 55%,
      rgba(10,73,255,.36) 60%,
      rgba(10,73,255,.00) 66%),
    /* banda inferior (difusa) */
    radial-gradient(120% 120% at 10% 122%,
      transparent 0 48%,
      rgba(20,92,220,.18) 52%,
      rgba(20,92,220,.10) 58%,
      rgba(20,92,220,0) 65%);

  transform: skewX(-12deg) translateY(0);
  filter:
    blur(0.6px)
    drop-shadow(0 22px 48px rgba(10,73,255,.35));
  opacity:.95;
}

/* Onda secundaria en esquina superior derecha (sutil) */
.landing-wave-top{
  position:absolute; inset:-12% -12% auto auto;
  width:65vw; height:65vh; pointer-events:none; z-index:0;
  background:
    radial-gradient(90% 90% at 110% -10%,
      rgba(42,168,255,.18) 0 35%, rgba(42,168,255,0) 60%),
    radial-gradient(100% 100% at 95% 0%,
      rgba(10,73,255,.16) 0 30%, rgba(10,73,255,0) 60%);
  filter: blur(8px);
}

/* Contenido centrado */
.landing__inner{
  position:relative; z-index:2;
  width:min(92vw, 820px);
  text-align:center;
  padding: min(6vw,56px);
}

.landing__title{
  font-size: clamp(44px, 7vw, 84px);
  line-height: .95;
  font-weight: 800;
  letter-spacing:.4px;
  text-shadow:
    0 6px 16px rgba(0,0,0,.35),
    0 2px 0 rgba(255,255,255,.05);
  margin: 0 0 28px;
}

.landing__cta{
  display:inline-flex;
  align-items:center; justify-content:center;
  min-width: 290px; height: 58px;
  padding: 0 28px;
  font-weight: 700; font-size: 18px;
  color:#fff; text-decoration:none;
  border-radius:999px; border:1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, var(--brand) 0%, var(--brand-2) 100%);
  box-shadow:
    0 18px 44px rgba(10,73,255,.45),
    inset 0 0 22px rgba(42,168,255,.22);
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}
.landing__cta:hover{ transform: translateY(-1px); filter: saturate(1.05) }
.landing__cta:active{ transform: translateY(1px) }

.landing__tagline{
  margin-top:18px;
  color:var(--muted);
  font-size:14px;
  letter-spacing:.3px;
  text-shadow:0 1px 0 rgba(0,0,0,.35);
}

/* =======================================================
   APP SHELL (dashboard después de “Ingresar”)
   ======================================================= */
.app-shell{
  min-height:100vh;
  background:
    radial-gradient(1200px 650px at 12% 100%, rgba(10,73,255,.16) 0 45%, transparent 60%),
    radial-gradient(1200px 650px at 110% 0%, rgba(42,168,255,.12) 0 45%, transparent 60%),
    linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%);
  color:var(--ink-0);
  display:flex;
}

/* Sidebar */
.sidebar{
  width: 280px;
  padding: 28px 20px;
  background: rgba(10,24,50,.6);
  backdrop-filter: blur(14px);
  border-right:1px solid var(--stroke);
}

.brand {
  display:flex; align-items:center; gap:12px;
  font-weight:800; font-size:28px; letter-spacing:.5px;
  margin-bottom:22px;
}
.brand-badge{
  width:40px; height:40px; border-radius:12px;
  background: radial-gradient(120% 120% at 30% 30%, #2AA8FF, #0A49FF);
  box-shadow: 0 8px 18px rgba(10,73,255,.35);
}

.nav{
  display:flex; flex-direction:column; gap:6px;
}
.nav a{
  display:flex; align-items:center; gap:12px;
  padding:12px 14px; color:var(--ink-1);
  text-decoration:none; border-radius:12px;
  border:1px solid transparent;
}
.nav a:hover{
  background: rgba(10,73,255,.14);
  border-color: rgba(10,73,255,.32);
  color: var(--ink-0);
}

/* Contenido principal */
.app-main{
  flex:1; padding: 32px;
}
.panel{
  background: rgba(8,20,44,.65);
  border:1px solid var(--stroke);
  border-radius: var(--radius-xl);
  box-shadow: 0 10px 28px rgba(0,0,0,.25);
  padding: 24px;
  color: var(--ink-0);
}

/* Tarjetas de estadísticas tipo mockup */
.cards{
  display:grid; gap:16px;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
}
.card{
  background: linear-gradient(180deg, rgba(10,24,50,.65), rgba(8,18,40,.65));
  border:1px solid rgba(255,255,255,.06);
  border-radius:16px; padding:18px;
  box-shadow: 0 10px 26px rgba(0,0,0,.22), 0 8px 26px rgba(10,73,255,.12);
}
.card .kpi{
  font-size:42px; font-weight:800; margin:8px 0 0;
}

/* Pie de página (opcional) */
.footer-muted{ color:var(--muted); font-size:12px; text-align:center; padding:16px 0 }

/* =======================================================
   UTILIDADES
   ======================================================= */
.container { width:min(1200px, 92vw); margin:0 auto }
.center    { display:flex; align-items:center; justify-content:center }
.muted     { color:var(--muted) }
.hidden    { display:none !important }

/* ====== Shell general ====== */
.app-shell {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 24px;
  min-height: 100vh;
  padding: 24px;
  background:
    radial-gradient(1200px 600px at -10% 110%, rgba(0,140,255,0.12), transparent 60%),
    radial-gradient(1000px 500px at 110% -10%, rgba(0,140,255,0.10), transparent 60%),
    var(--bg, #0b1622);
}

/* ====== Sidebar ====== */
.sidebar {
  height: calc(100vh - 48px);
  padding: 20px;
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(18,36,55,.72), rgba(10,20,32,.72));
  box-shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.06);
  border: 1px solid rgba(141,197,255,.12);
  backdrop-filter: blur(14px);
}

.brand {
  display:flex; align-items:center; gap:12px; margin-bottom:18px;
}
.brand-dot{ width:14px;height:14px;border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #37a8ff, #0b5bd7 70%);
  box-shadow: 0 0 14px #37a8ff80;
}
.brand-name{ font-size:28px; font-weight:800; letter-spacing:.3px; color:#eaf3ff; }

.side-nav{ display:flex; flex-direction:column; gap:6px; margin-top:10px; }
.side-item{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px; border-radius:12px; color:#b9c7d9; text-decoration:none;
  transition:all .2s ease; border:1px solid transparent;
}
.side-item:hover{ background:rgba(55,168,255,.08); color:#eaf3ff; }
.side-item.active{ background:rgba(55,168,255,.12); color:#eaf3ff; border-color:rgba(55,168,255,.22); }
.side-item.danger{ color:#ff9b9b; }
.side-ico{ width:20px; display:grid; place-items:center; color:#86bfff; }
.side-txt{ font-weight:600; }

/* ====== Main panel ====== */
.app-main{ min-height:100%; }
.glass-panel{
  border-radius:20px;
  padding:28px;
  background: linear-gradient(180deg, rgba(20,40,63,.55), rgba(10,20,32,.55));
  border:1px solid rgba(141,197,255,.14);
  box-shadow: 0 12px 40px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter: blur(12px);
}

.dash-header{
  display:flex; align-items:end; gap:18px; justify-content:flex-start; margin-bottom:24px;
}
.brand-title{ font-size:44px; font-weight:900; color:#eaf3ff; letter-spacing:.4px; margin:0; }
.brand-sub{ margin:0 0 -4px 0; color:#b7c9de; }

/* ====== Cards ====== */
.cards-row{
  display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:18px;
}
.stat-card{
  border-radius:16px; padding:18px;
  background: linear-gradient(180deg, rgba(24,48,77,.68), rgba(16,32,52,.68));
  border:1px solid rgba(141,197,255,.12);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
}
.stat-head{ color:#c7dbf2; font-weight:700; margin-bottom:6px; }
.stat-value{ color:#ffffff; font-size:42px; font-weight:800; line-height:1.1; }
.stat-sub{ color:#8ec5ff; font-weight:700; margin-top:2px; }

/* barras mini */
.mini-bars{ display:flex; gap:6px; margin-top:14px; align-items:flex-end; height:38px;}
.mini-bars span{
  width:10px; border-radius:6px; background:linear-gradient(180deg,#58b0ff,#2166ff);
  box-shadow:0 4px 12px #1a6bff55;
}
.mini-bars span:nth-child(1){ height:24px }
.mini-bars span:nth-child(2){ height:30px }
.mini-bars span:nth-child(3){ height:36px }
.mini-bars span:nth-child(4){ height:44px }

/* donut */
.donut{ width:120px; height:120px; margin:10px auto 0; }
.donut svg{ width:100%; height:100%; }
.donut .bg{
  fill:none; stroke:#1d3350; stroke-width:3.2;
}
.donut .fg{
  fill:none; stroke:url(#gradBlue);
  stroke-width:3.2; stroke-linecap:round; transform:rotate(-90deg); transform-origin:50% 50%;
}
.donut text{ fill:#eaf3ff; font-weight:800; font-size:8px; }

/* gradiente para svg donuts (usamos filter: url(#) sólo si lo inyectás; como fallback, sólido) */

/* ================== Inmovia — Scanner (formato baseline) ================== */
/* Usa los colores del tema (— no tocamos la paleta existente) */

.modal-overlay {
  position: fixed; inset: 0;
  display: flex; align-items: center; justify-content: center;
  background: rgba(4, 12, 28, .55);           /* vidrio oscuro */
  backdrop-filter: blur(10px);
  z-index: 9999;
}

.modal {
  width: min(1200px, 95vw);
  height: min(86vh, 900px);
  border-radius: 18px;
  background: rgba(10, 18, 34, .72);          /* vidrio */
  box-shadow: 0 22px 70px rgba(0,0,0,.55);
  border: 1px solid rgba(141,197,255,.16);
  display: flex; flex-direction: column;
  overflow: hidden;                           /* evita que algo se “salga” del cuadro */
  backdrop-filter: blur(14px);
}

.modal-head, .modal-foot {
  display: flex; align-items: center; gap: 12px;
  padding: 12px 16px;
  border-bottom: 1px solid rgba(141,197,255,.12);
}
.modal-foot { border-top: 1px solid rgba(141,197,255,.12); border-bottom: none; justify-content: flex-end; }

.modal-body {
  flex: 1; padding: 16px;
  display: grid; gap: 16px;
  grid-template-columns: 320px 1fr;           /* izquierda sliders | derecha canvas */
}
/* Importante para que la columna derecha permita scroll interno */
.modal-body > * { min-width: 0; min-height: 0; }

/* Panel izquierdo (sliders) */
.left .group { margin-bottom: 14px; }
.left label { display: block; font-size: 14px; margin-bottom: 6px; color: var(--ink-0); opacity: .85; }
.left input[type="range"] { width: 100%; accent-color: var(--brand); }

/* Botones base del tema (ya existen), refuerzo de variantes por si hiciera falta */
.btn { background: rgba(13,27,42,.8); color: #e6f0ff; padding: 8px 12px; border-radius: 12px; border: 1px solid rgba(23,48,79,.8); }
.btn:hover { background: rgba(18,42,78,.9); }
.btn-primary { background: linear-gradient(135deg, var(--brand), var(--brand-2)); border-color: rgba(42,121,255,.8); color:#fff; }
.btn-secondary { background: rgba(22,38,60,.9); border-color: rgba(29,51,85,.9); color:#cfe2ff; }

/* Stage (canvas + overlay) */
.stage { display: flex; flex-direction: column; height: 100%; min-height: 0; }
.canvas-wrap {
  position: relative; flex: 1; overflow: auto; /* el scroll vive acá */
  min-height: 0;
  background: radial-gradient(1200px 600px at 50% -10%, rgba(8,20,44,.9), rgba(5,12,28,.9));
  border-radius: 14px; border: 1px solid rgba(141,197,255,.14);
}
.canvas-wrap canvas { display: block; margin: 0 auto; background: transparent; }

.overlay { position: absolute; inset: 0; pointer-events: none; }
.overlay .poly { fill: rgba(59,130,246,.10); stroke: #5ab0ff; stroke-width: 3; }
.overlay .handle { fill: #00e0ff; opacity: .95; }

/* Barra inferior: navegación + n° de página + export */
.bottom-bar {
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; padding: 8px;
  border-top: 1px solid rgba(141,197,255,.10);
  background: transparent;
}
.page-indicator { color: var(--ink-0); opacity: .9; }
.page-number input {
  width: 90px; padding: 6px 8px; border-radius: 10px;
  background: rgba(13,27,42,.85); color: #e6f0ff; border: 1px solid rgba(23,48,79,.9);
}

/* Estilo general del contenido en el modal del escáner */
.scanner-page { color: var(--ink-0); }
.scanner-page h1, .scanner-page h2, .scanner-page p, .scanner-page label { color: var(--ink-0); }

/* Inputs del escáner con look del tema */
.scanner-page input[type="text"],
.scanner-page input[type="number"],
.scanner-page input[type="file"],
.scanner-page select,
.scanner-page textarea {
  background: rgba(18,36,55,.55);
  border: 1px solid rgba(141,197,255,.18);
  color: var(--ink-0);
  border-radius: 10px;
  padding: 6px 10px;
}

/* File picker: botón + input oculto */
.scanner-page .btn-file { display:inline-flex; align-items:center; gap:8px; }
.scanner-page input[type="file"].hidden { display:none; }
label[for="scanner-file"].btn { box-shadow: 0 12px 28px rgba(10,73,255,.24); }

/* Contenedor con scroll controlado (referencia 70vh) */
.scanner-stage { max-height: 70vh; overflow: auto; padding: 12px; }

/* “Barra” visual para sliders horizontales grandes (si las usás aparte) */
.scanner-bar {
  background: rgba(8,20,44,.65);
  border: 1px solid rgba(141,197,255,.14);
  border-radius: 14px;
  padding: 12px;
  margin: 10px 0;
}

/* =========== Scanner — Fix layout, scroll y overlay 1:1 =========== */

/* Evita que el panel tape la barra inferior en flex layouts */
.modal-body { min-height: 0; }
.stage { display: flex; flex-direction: column; min-height: 0; }

/* Panel vidrioso y con scroll interno controlado */
.scanner-modal .canvas-wrap{
  position: relative;
  flex: 1;
  /* Deja espacio para la bottom-bar dentro del modal (ajuste fino) */
  max-height: calc(70vh - 88px);
  overflow: auto;                    /* scroll en ambas direcciones */
  background: #0b1420;
  border-radius: 12px;
  border: 1px solid rgba(141,197,255,.14);
}

/* El contenedor interno toma EXACTAMENTE el tamaño del canvas */
.scanner-modal .canvas-inner{
  position: relative;                /* referencia para overlay absoluto */
  display: inline-block;
  line-height: 0;                    /* evita gaps por inline-block */
  width: auto; height: auto;         /* tamaño viene por style inline */
}

/* Canvas sin escalado CSS (usa sus width/height reales) */
.scanner-modal .canvas-inner canvas{
  display: block;
  max-width: none;
  image-rendering: auto;
  background: #0b1420;
}

/* Overlay alineado 1:1 con el canvas */
.scanner-modal .canvas-inner .overlay{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

/* Polígono y vértices (azules, más suaves y chicos) */
.scanner-modal .overlay .poly{
  fill: rgba(42,168,255,.06);
  stroke: #2AABFF;
  stroke-width: 2;
}

.scanner-modal .overlay .handle{
  fill: #2AABFF;
  stroke: #ffffff;
  stroke-width: 1;
  r: 10;
  filter: drop-shadow(0 2px 6px rgba(42,168,255,.35));
  opacity: .95;
}

/* Botonera inferior siempre visible dentro del modal */
.bottom-bar{
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; padding: 8px 10px;
  margin-top: 8px;
  background: transparent;
  border-top: 1px solid rgba(141,197,255,.08);
  border-radius: 0 0 12px 12px;
}
